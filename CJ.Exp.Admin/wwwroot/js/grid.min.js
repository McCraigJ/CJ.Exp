var Grid=function(){var i=this,n,t={};i.Initialise=function(i,r,u){function f(n){return"<td class='jsgrid-cell' style='width: "+n.width+"px;'>"}function e(i,r){var u=n.jsGrid("option","pageIndex");t.$currentPageInput.val(u);t.$editValueInput.val(i);t.$gridForm.attr("action",r);t.$gridForm.submit()}if(n=$(i),t={$gridForm:$("#grid-form"),$editValueInput:$("#editValue"),$currentPageInput:$("#currentPage")},u>0==!1&&(u=1),n.length>0){n.jsGrid({width:"100%",height:"400px",autoload:!0,paging:!0,pageLoading:!0,pageSize:3,pageIndex:u,rowRenderer:function(n){for(var t,r,e,o,i="<tr class='jsgrid-row' data-id='"+n.id+"'>",u=0;u<this.fields.length;u++){t=this.fields[u];r=n[t.name];t.nestedName!==undefined&&(r=n[t.name][t.nestedName]);switch(t.type){case"date":e=new Date(r);i+=f(t)+e.toLocaleDateString()+"<\/td>";break;case"currency":o=parseFloat(r);i+=f(t)+o.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")+"<\/td>";break;case"control":i+="<td class='jsgrid-cell jsgrid-control-field jsgrid-align-center' style='width: 50px;'><input class='jsgrid-button jsgrid-edit-button' type='button' title='Edit'><input class='jsgrid-button jsgrid-delete-button' type='button' title='Delete'><\/td>";break;default:i+=f(t)+r+"<\/td>"}}return i+="<\/ tr>",$(i)},fields:r,controller:{loadData:function(n){var t=$.Deferred();return $.ajax({url:"GetExpensesData",data:n,dataType:"json"}).done(function(n){t.resolve({data:n.gridRows,itemsCount:n.totalRecordCount})}),t.promise()}}});n.on("click",".jsgrid-button",function(){var t=$(this),n=$(this).closest("tr").attr("data-id");t.hasClass("jsgrid-edit-button")?e(n,"Edit"):e(n,"Delete")})}}};